<div class="asset-list-container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="text-light mb-1">Asset Management</h2>
      <p class="text-muted">Manage and track your organizational assets</p>
    </div>
    <button class="btn btn-primary">
      <i class="bi bi-plus-circle me-2"></i>
      Add New Asset
    </button>
  </div>

  <!-- Search and Filters -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="input-group">
        <span class="input-group-text">
          <i class="bi bi-search"></i>
        </span>
        <input
          type="text"
          class="form-control"
          placeholder="Search assets by name, code, or category..."
          [(ngModel)]="searchQuery"
          (keyup.enter)="onSearch()"
        >
        <button class="btn btn-outline-secondary" type="button" (click)="onSearch()">
          Search
        </button>
      </div>
    </div>
    <div class="col-md-6 d-flex justify-content-end">
      <button class="btn btn-outline-light me-2">
        <i class="bi bi-funnel me-2"></i>
        Filters
      </button>
      <button class="btn btn-outline-light">
        <i class="bi bi-download me-2"></i>
        Export
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="text-muted mt-3">Loading assets...</p>
  </div>

  <!-- Asset Table -->
  <div *ngIf="!isLoading && ((assets$ | async)?.length ?? 0) > 0" class="table-responsive" style="max-height: 60vh; overflow-y: auto;">
    <table class="table table-hover table-dark text-white align-middle">
      <thead>
        <tr>
          <th>Name</th>
          <th>Code</th>
          <th>Category</th>
          <th>Type</th>
          <th>Status</th>
          <th>Stock on Hand</th>
          <th>Size</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let asset of assets$ | async; trackBy: trackByAssetId">
          <td class="text-white">{{ asset.name }}</td>
          <td class="text-white">{{ asset.code }}</td>
          <td class="text-white">{{ asset.categoryName || 'Uncategorized' }}</td>
          <td class="text-white">{{ asset.stockType || 'Standard' }}</td>
          <td>
            <span class="badge"
              [ngClass]="{
                'bg-success': asset.status === 'active',
                'bg-warning': asset.status === 'pending',
                'bg-danger': asset.status === 'out_of_stock',
                'bg-secondary': asset.status === 'inactive',
                'bg-dark': asset.status === 'discontinued'
              }"
            >
              {{ asset.status | titlecase }}
            </span>
          </td>
          <td>
            <span
              class="fw-bold"
              [ngClass]="{
                'text-success': asset.stockInHand > 10,
                'text-warning': asset.stockInHand > 0 && asset.stockInHand <= 10,
                'text-danger': asset.stockInHand === 0
              }"
            >
              {{ asset.stockInHand }}
            </span>
          </td>
          <td class="text-white">{{ asset.size || '-' }}</td>
          <td>
            <div class="d-flex gap-2">
              <button class="btn btn-sm btn-outline-primary" (click)="onViewDetails(asset)">
                <i class="bi bi-eye me-1"></i> View
              </button>
              <button class="btn btn-sm btn-primary" (click)="onEdit(asset)">
                <i class="bi bi-pencil me-1"></i> Edit
              </button>
              <button class="btn btn-sm btn-outline-danger" (click)="onDelete(asset)">
                <i class="bi bi-trash me-1"></i> Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && (assets$ | async)?.length === 0" class="text-center py-5">
    <div class="empty-state">
      <i class="bi bi-box-seam display-1 text-muted mb-3"></i>
      <h4 class="text-muted">No Assets Found</h4>
      <p class="text-muted">Start by adding your first asset to the system.</p>
      <button class="btn btn-primary">
        <i class="bi bi-plus-circle me-2"></i>
        Add Your First Asset
      </button>
    </div>
  </div>
</div>
