<div class="form-container" *ngIf="data">
  <div class="title-section">
    <h5 class="w-fit">{{ page.name }}</h5>
    <div class="d-flex">
      <a class="btn btn-light" [routerLink]="page.listUrl">
        <i class="bi bi-arrow-left"></i>
        Back
      </a>
    </div>
  </div>
  <form class="body">
    <div class="grid-2">
      <div class="form-floating mb-4">
        <input
          type="text"
          class="form-control"
          id="name"
          placeholder="Name"
          [(ngModel)]="data.ItemValue.Name"
          [ngModelOptions]="{ standalone: true }"
          required
        />
        <label for="name">Name</label>
      </div>

      <!-- Status for statuses array -->
      <div class="form-floating mb-4">
        <select
          class="form-select"
          id="Status"
          [(ngModel)]="data.Status"
          [ngModelOptions]="{ standalone: true }"
          required
        >
          <option value="" disabled selected>Select Location Status</option>
          <option *ngFor="let status of statuses" [value]="status">
            {{ status }}
          </option>
        </select>
        <label for="Status">Status</label>
      </div>
    </div>

    <div class="grid-2">
      <div class="mb-4">
        <div class="form-floating mb-1">
          <select
            class="form-select"
            id="Type"
            [(ngModel)]="data.ItemValue.Type"
            [ngModelOptions]="{ standalone: true }"
            required
          >
            <option value="" disabled selected>Select Location Type</option>
            <option
              *ngFor="let locationType of locationTypes"
              [value]="locationType.Id"
            >
              {{ locationType.ItemValue.value }}
            </option>
          </select>
          <label for="Type">Location Type</label>
        </div>
        <a class="link-info pointer" (click)="showLocationTypes = !showLocationTypes">
          Manage Location Types
        </a>
      </div>
      <div class="mb-4">
        <div class="form-floating mb-1">
          <select
            class="form-select"
            id="IsSite"
            [(ngModel)]="data.ItemValue.IsSite"
            [ngModelOptions]="{ standalone: true }"
            required
          >
            <option value="" disabled selected>
              Is This a Site?
            </option>
            <option
              *ngFor="let isSite of ['Yes', 'No']"
              [value]="isSite"
            >
              {{ isSite }}
            </option>
          </select>
          <label for="IsSite">  Is This a Site?</label>
        </div>
      
      </div>

      <!-- Floor -->
      <div class="form-floating mb-4">
        <input
          type="text"
          class="form-control"
          id="Floor"
          placeholder="Floor"
          [(ngModel)]="data.ItemValue.Floor"
          [ngModelOptions]="{ standalone: true }"
          required
        />
        <label for="Floor">Floor</label>
      </div>
    </div>

    <!-- AddressLine1 and AddressLine2 -->

    <div class="form-floating mb-4">
      <input
        type="text"
        class="form-control"
        id="AddressLine1"
        placeholder="Address Line 1"
        [(ngModel)]="data.ItemValue.AddressLine1"
        [ngModelOptions]="{ standalone: true }"
        required
      />
      <label for="AddressLine1">Address Line 1</label>
    </div>

    <div class="form-floating mb-4">
      <input
        type="text"
        class="form-control"
        id="AddressLine2"
        placeholder="Address Line 2"
        [(ngModel)]="data.ItemValue.AddressLine2"
        [ngModelOptions]="{ standalone: true }"
        required
      />
      <label for="AddressLine2">Address Line 2</label>
    </div>

    <button type="submit" class="w-100 btn btn-primary mb-2" (click)="save()">
      Save
    </button>
  </form>
</div>

<app-location-types *ngIf="showLocationTypes" 
(close)="showLocationTypes = false"
/>
